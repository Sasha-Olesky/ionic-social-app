!function(){"use strict";function e(e,n,i){function o(e){var o=parseInt(e.ionGalleryRowSize),l=function(){e.ionGalleryRowSize=n.getRowSize(o||i.row_size,e.ionGalleryItems.length),e.actionLabel=i.action_label,e.items=n.buildGallery(e.ionGalleryItems,e.ionGalleryRowSize),e.responsiveGrid=parseInt(1/e.ionGalleryRowSize*100)};l(),function(){e.$watch(function(){return e.ionGalleryItems.length},function(e,n){e!==n&&l()})}()}function l(e,n,o){e.customCallback=angular.isFunction(e.ionItemCallback)&&o.hasOwnProperty("ionItemCallback"),e.ionSliderToggle="false"===o.ionGalleryToggle?!1:i.toggle}return o.$inject=["$scope"],{restrict:"AE",scope:{ionGalleryItems:"=ionGalleryItems",ionGalleryRowSize:"=?ionGalleryRow",ionItemCallback:"&?ionItemCallback"},controller:o,link:l,replace:!0,templateUrl:"gallery.html"}}angular.module("ion-gallery",["templates"]).directive("ionGallery",e),e.$inject=["$ionicPlatform","ionGalleryHelper","ionGalleryConfig"]}(),function(){"use strict";function e(e,n,i){function o(e){var o=parseInt(e.ionGalleryRowSize),l=function(){e.ionHomeGalleryItems&&(e.ionGalleryRowSize=n.getRowSize(o||i.row_size,e.ionHomeGalleryItems.length),e.items=n.buildGallery(e.ionHomeGalleryItems,e.ionGalleryRowSize),e.responsiveGrid=parseInt(1/e.ionGalleryRowSize*100))};l(),function(){e.$watch(function(){return e.ionHomeGalleryItems},function(e,n){e!==n&&l()})}(),e.likeTa=function(n){e.$parent.likeTa(n)},e.goPersonal=function(n){e.$parent.goPersonal(n)}}return o.$inject=["$scope"],{restrict:"AE",scope:{ionHomeGalleryItems:"=ionHomeGalleryItems",ionGalleryRowSize:"=?ionGalleryRow"},controller:o,replace:!0,templateUrl:"templates/home/gallery.html"}}angular.module("ion-gallery").directive("ionHomeGallery",e),e.$inject=["$ionicPlatform","ionGalleryHelper","ionGalleryConfig"]}(),function(){"use strict";function e(){this.config={action_label:"Done",toggle:!0,row_size:3,fixed_row_size:!0},this.$get=function(){return this.config},this.setGalleryConfig=function(e){angular.extend(this.config,this.config,e)}}angular.module("ion-gallery").provider("ionGalleryConfig",e),e.$inject=[]}(),function(){"use strict";function e(e){this.getRowSize=function(n,i){var o;return o=isNaN(n)===!0||0>=n?e.row_size:n>i&&!e.fixed_row_size?i:n},this.buildGallery=function(e,n){for(var i=[],o=-1,l=0,t=0;t<e.length;t++)t%n===0&&(o++,i[o]=[],l=0),e[t].hasOwnProperty("sub")||(e[t].sub=""),e[t].hasOwnProperty("thumb")||(e[t].thumb=e[t].src),e[t].position=t,i[o][l]=e[t],l++;return i}}angular.module("ion-gallery").service("ionGalleryHelper",e),e.$inject=["ionGalleryConfig"]}(),function(){"use strict";function e(){function e(e,n,i){var o=function(e,i){i>0&&(e.naturalHeight>=e.naturalWidth?n.attr("width","100%"):n.attr("height",n.parent()[0].offsetHeight+"px"))};n.bind("load",function(i){var l=this;n.parent()[0].offsetHeight>0&&o(this,n.parent()[0].offsetHeight),e.$watch(function(){return n.parent()[0].offsetHeight},function(e){o(l,e)})})}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionImageScale",e),e.$inject=[]}(),function(){"use strict";function e(e){function n(e,n,i){e.$watch(function(){return e.ionGalleryRowSize},function(i,o){i>0&&n.css("height",n[0].offsetWidth*parseInt(e.responsiveGrid)/100+"px")})}return{restrict:"A",link:n}}angular.module("ion-gallery").directive("ionRowHeight",e),e.$inject=["ionGalleryConfig"]}(),function(){"use strict";function e(e,n){function i(i,o,l){var t=!1,r=function(){i.$emit("ZoomStarted")},a=function(e){t=!0,n(function(){t=!1,i.$emit("DoubleTapEvent",{x:e.gesture.touches[0].pageX,y:e.gesture.touches[0].pageY})},200)},s=function(e){t!==!0&&n(function(){t!==!0&&i.$emit("TapEvent")},200)},c=e.on("pinch",r,o),u=e.on("doubletap",function(e){a(e)},o),d=e.on("tap",s,o);i.$on("$destroy",function(){e.off(u,"doubletap",a),e.off(d,"tap",s),e.off(c,"pinch",r)})}return{restrict:"A",link:i}}angular.module("ion-gallery").directive("ionSlideAction",e),e.$inject=["$ionicGesture","$timeout"]}(),function(){"use strict";function e(e,n,i,o,l){function t(e){function n(){r=!1,a()}var i,t,r=(e.ionGalleryRowSize,!1);e.selectedSlide=1,e.hideAll=!1,e.curIndex=1,e.showImage=function(n){e.curIndex=n+1,e.slides=[],t=n;var o=e.ionGalleryItems.length,l=0>n-1?o-1:n-1,r=n+1>=o?0:n+1;e.slides[0]=e.ionGalleryItems[l],e.slides[1]=e.ionGalleryItems[n],e.slides[2]=e.ionGalleryItems[r],i=1,e.loadModal()},e.slideChanged=function(n){if(n!==i){var o,r=e.slides.length-i-n,a=e.ionGalleryItems.length,s=i+">"+n;"0>1"===s||"1>2"===s||"2>0"===s?(t++,t>=a&&(t=0),o=t+1,o>=a&&(o=0),0==o?e.curIndex=e.ionGalleryItems.length:e.curIndex=o):("0>2"===s||"1>0"===s||"2>1"===s)&&(t--,0>t&&(t=a-1),o=t-1,0>o&&(o=a-1),o==e.ionGalleryItems.length-1?e.curIndex=1:e.curIndex=o+2),l.$getByHandle("slide-"+r).zoomTo(1),e.slides[r]=e.ionGalleryItems[o],i=n}},e.$on("ZoomStarted",function(n){o(function(){r=!0,e.hideAll=!0})}),e.$on("TapEvent",function(e){o(function(){a()})}),e.$on("DoubleTapEvent",function(e,n){o(function(){s(n)})});var a=function(){return r===!0?(l.$getByHandle("slide-"+i).zoomTo(1,!0),void o(function(){n()},300)):void(e.hasOwnProperty("ionSliderToggle")&&e.ionSliderToggle===!1&&e.hideAll===!1||r===!0||(e.hideAll=!e.hideAll))},s=function(n){r===!1?(l.$getByHandle("slide-"+i).zoomTo(3,!0,n.x,n.y),r=!0,e.hideAll=!0):a()}}function r(n,i,o){var l;n.loadModal=function(){e.fromTemplateUrl("slider.html",{scope:n,animation:"fade-in"}).then(function(e){l=e,n.openModal()})},n.openModal=function(){l.show()},n.closeModal=function(){l.hide()},n.$on("$destroy",function(){try{l.remove()}catch(e){console.log(e.message)}})}return t.$inject=["$scope"],{restrict:"A",controller:t,link:r}}angular.module("ion-gallery").directive("ionSlider",e),e.$inject=["$ionicModal","ionGalleryHelper","$ionicPlatform","$timeout","$ionicScrollDelegate"]}(),angular.module("templates",[]).run(["$templateCache",function(e){e.put("gallery.html",'<div class="gallery-view">\n  <div class="row" ng-repeat="item in items track by $index" ion-row-height>\n    <div ng-repeat="photo in item track by $index"\n         class="col col-{{responsiveGrid}} image-container">\n\n      <img ion-image-scale\n           image-lazy-src="{{photo.thumb}}"\n  image-lazy-loader="ios" image-lazy-distance-from-bottom-to-load="-100"         ng-click="customCallback ? ionItemCallback({item:photo}) : showImage(photo.position)">\n\n    </div>\n  </div>\n  <div ion-slider></div>\n</div>\n'),e.put("slider.html",'<ion-modal-view class="imageView">\n  <ion-header-bar class="headerView" ng-show="!hideAll">\n    <h2>{{curIndex}}/{{ionGalleryItems.length}}</h2><button class="button button-outline button-light close-btn" ng-click="closeModal()">{{::actionLabel}}</button>\n  </ion-header-bar>\n    \n  <ion-content class="has-no-header" scroll="false">\n    <ion-slide-box does-continue="true" active-slide="selectedSlide" show-pager="false" class="listContainer" on-slide-changed="slideChanged($index)">\n      <ion-slide ng-repeat="single in slides track by $index">\n        <ion-scroll direction="xy"\n                    locking="false" \n                    zooming="true"\n                    min-zoom="1"\n                    scrollbar-x="false"\n                    scrollbar-y="false"\n                    ion-slide-action\n                    delegate-handle="slide-{{$index}}"\n                    overflow-scroll="false"\n                    >\n        <div class="item item-image gallery-slide-view">\n          <img ng-src="{{single.src}}">\n        </div>\n        <div ng-if="single.sub.length > 0" class="image-subtitle" ng-show="!hideAll">\n            <span ng-bind-html=\'single.sub\'></span>\n        </div>\n        </ion-scroll>\n      </ion-slide>\n    </ion-slide-box>\n  </ion-content>\n</ion-modal-view>')}]);